(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;$.Define($$,{IntelliFactory:{WebSharper:{Control:{Disposable:{Of:function(u){return b.New(c.ofArray([["Dispose",u]]));}},Event:{"Event`1":$.Class({AddHandler:function(v){return this.Handlers.push(v);},RemoveHandler:function(w){var x,y,z,A,B,C,G,H,K,M;x=(y=(z=(A=this.Handlers,(B=(C=function(D){return function(E){if(d.Equals(E,w)){return{$:1,$0:D};}else{return{$:0};}};},function(F){return e.mapi(C,F);}),B(A))),(G=(H=function(I){return I;},function(J){return e.choose(H,J);}),G(z))),(K=function(L){return c.ofArray(L);},K(y)));if(x.$==1){M=x.$0;return this.Handlers.splice(M,1);}else{return null;}},Subscribe:function(N){var O,R=this;O=function(P){return N.OnNext(P);};this.AddHandler(O);return g.Of(function(){return R.RemoveHandler(O);});},Trigger:function(S){var U=this;$.For(0,this.Handlers.length-1,function(T){U.Handlers[T].call(null,S);});}})},EventModule:{Choose:function(V,W){var X;X=h.New();i.addListener(W,function(Y){var Z,_0;Z=V(Y);if(Z.$==0){return null;}else{_0=Z.$0;return X.event.Trigger(_0);}});return X.event;},Filter:function(_1,_2){var _3;_3=$.New(k,{Handlers:[]});i.addListener(_2,function(_4){if(_1(_4)){return _3.Trigger(_4);}else{return null;}});return _3;},Map:function(_5,_6){var _7;_7=$.New(k,{Handlers:[]});i.addListener(_6,function(_8){return _7.Trigger(_5(_8));});return _7;},Merge:function(_9,_){var ba;ba=$.New(k,{Handlers:[]});i.addListener(_9,function(bb){return ba.Trigger(bb);});i.addListener(_,function(bb){return ba.Trigger(bb);});return ba;},Pairwise:function(bc){var bd,be;bd={contents:{$:0}};be=$.New(k,{Handlers:[]});i.addListener(bc,function(bf){var bg,bh;bg=bd.contents;if(bg.$==1){bh=bg.$0;bd.contents={$:1,$0:bf};return be.Trigger([bh,bf]);}else{bd.contents={$:1,$0:bf};}});return be;},Partition:function(bi,bj){var bk;return[l.Filter(bi,bj),l.Filter((bk=function(bl){return!bl;},function(bm){return bk(bi(bm));}),bj)];},Scan:function(bn,bo,bp){var bq,br;bq={contents:bo};br=function(bs){bq.contents=(bn(bq.contents))(bs);return bq.contents;};return l.Map(br,bp);},Split:function(bt,bu){var bv,bw,bB,bC;return[(bv=(bw=function(bx){var by,bz;by=bt(bx);if(by.$==0){bz=by.$0;return{$:1,$0:bz};}else{return{$:0};}},function(bA){return l.Choose(bw,bA);}),bv(bu)),(bB=(bC=function(bD){var bE,bF;bE=bt(bD);if(bE.$==1){bF=bE.$0;return{$:1,$0:bF};}else{return{$:0};}},function(bG){return l.Choose(bC,bG);}),bB(bu))];}},"FSharpEvent`1":$.Class({},{New:function(){var bH;bH=$.New(this,{});bH.event=$.New(k,{Handlers:[]});return bH;}}),HotStream:{"HotStream`1":$.Class({Subscribe:function(bI){var bJ,bK;if(this.Latest.contents.$==1){bI.OnNext(this.Latest.contents.$0);}bJ=i.subscribeTo((bK=this.Event,bK.event),function(bL){return bI.OnNext(bL);});return bJ;},Trigger:function(bM){var bN;this.Latest.contents={$:1,$0:bM};bN=this.Event;return bN.event.Trigger(bM);}},{New:function(){return $.New(n,{Latest:{contents:{$:0}},Event:h.New()});}})},Observable:{Aggregate:function(bO,bP,bQ){return o.New(function(bR){var bS;bS={contents:bP};return i.subscribeTo(bO,function(bT){bS.contents=(bQ(bS.contents))(bT);return bR.OnNext(bS.contents);});});},Choose:function(bU,bV){var bW;bW=function(bX){var bY,b2;bY=function(bZ){var b0,b1;b0=bU(bZ);if(b0.$==0){return null;}else{b1=b0.$0;return bX.OnNext(b1);}};b2=p.New(bY,function(b3){return bX.OnError(b3);},function(){return bX.OnCompleted();});return bV.Subscribe(b2);};return o.New(bW);},CombineLatest:function(b5,b6,b7){var b8;b8=function(b9){var b_,b$,ca,cf,cg,ck,cl,cp,cq;b_={contents:{$:0}};b$={contents:{$:0}};ca=function(){var cc,cd,ce;cc=[b_.contents,b$.contents];if(cc[0].$==1){if(cc[1].$==1){cd=cc[0].$0;ce=cc[1].$0;return b9.OnNext((b7(cd))(ce));}else{return null;}}else{return null;}};cf=(cg=function(ch){b_.contents={$:1,$0:ch};return ca(null);},p.New(cg,function(ci){ci;},function(cj){cj;}));ck=(cl=function(cm){b$.contents={$:1,$0:cm};return ca(null);},p.New(cl,function(cn){cn;},function(co){co;}));cp=b5.Subscribe(cf);cq=b6.Subscribe(ck);return g.Of(function(){cp.Dispose();return cq.Dispose();});};return o.New(b8);},Concat:function(cs,ct){var cu;cu=function(cv){var cw,cx,cC;cw={contents:{$:0}};cx=cs.Subscribe(p.New(function(cy){return cv.OnNext(cy);},function(cz){cz;},function(){var cB;cw.contents=(cB=ct.Subscribe(cv),{$:1,$0:cB});}));cC=function(){if(cw.contents.$==1){cw.contents.$0.Dispose();}return cx.Dispose();};return g.Of(cC);};return o.New(cu);},Drop:function(cE,cF){var cG;cG=function(cH){var cI,cJ,cL;cI={contents:0};cJ=function(cK){q.Increment(cI);if(cI.contents>cE){return cH.OnNext(cK);}else{return null;}};cL=p.New(cJ,function(cM){return cH.OnError(cM);},function(){return cH.OnCompleted();});return cF.Subscribe(cL);};return o.New(cG);},Filter:function(cO,cP){var cQ;cQ=function(cR){var cS,cU;cS=function(cT){if(cO(cT)){return cR.OnNext(cT);}else{return null;}};cU=p.New(cS,function(cV){return cR.OnError(cV);},function(){return cR.OnCompleted();});return cP.Subscribe(cU);};return o.New(cQ);},Map:function(cX,cY){var cZ;cZ=function(c0){var c1,c3;c1=function(c2){return c0.OnNext(cX(c2));};c3=p.New(c1,function(c4){return c0.OnError(c4);},function(){return c0.OnCompleted();});return cY.Subscribe(c3);};return o.New(cZ);},Merge:function(c6,c7){var c8;c8=function(c9){var c_,c$,da,db,df,dh,di,dm;c_={contents:false};c$={contents:false};da=(db=p.New(function(dc){return c9.OnNext(dc);},function(dd){dd;},function(){c_.contents=true;if(c_.contents?c$.contents:false){return c9.OnCompleted();}else{return null;}}),(df=function(dg){return c6.Subscribe(dg);},df(db)));dh=(di=p.New(function(dj){return c9.OnNext(dj);},function(dk){dk;},function(){c$.contents=true;if(c_.contents?c$.contents:false){return c9.OnCompleted();}else{return null;}}),(dm=function(dn){return c7.Subscribe(dn);},dm(di)));return g.Of(function(){da.Dispose();return dh.Dispose();});};return o.New(c8);},Never:function(){return o.New(function(){return g.Of(function(dq){dq;});});},New:function(dr){return $.New(r,{Subscribe1:dr});},"Observable`1":$.Class({Subscribe:function(ds){return this.Subscribe1.call(null,ds);}}),Of:function(dt){return o.New(function(du){return g.Of(dt(function(dv){return du.OnNext(dv);}));});},Range:function(dw,dx){var dy;dy=function(dz){$.For(dw,dw+dx,function(dA){dz.OnNext(dA);});return g.Of(function(dB){dB;});};return o.New(dy);},Return:function(dC){var dD;dD=function(dE){dE.OnNext(dC);dE.OnCompleted();return g.Of(function(dF){dF;});};return o.New(dD);},SelectMany:function(dG){return o.New(function(dH){var dI,dK;dI={contents:function(dJ){dJ;}};dK=i.subscribeTo(dG,function(dL){var dM;dM=i.subscribeTo(dL,function(dN){return dH.OnNext(dN);});dI.contents=function(){dI.contents.call(null,null);return dM.Dispose();};});return g.Of(function(){dI.contents.call(null,null);return dK.Dispose();});});},Sequence:function(dQ){var dR;dR=function(dS){var dT,dU,dV;if(dS.$==1){dT=dS.$1;dU=dS.$0;dV=dR(dT);return o.CombineLatest(dU,dV,function(dW){return function(dX){return $.New(s,{$:1,$0:dW,$1:dX});};});}else{return o.Return($.New(s,{$:0}));}};return dR(c.ofSeq(dQ));},Switch:function(dY){return o.New(function(dZ){var d0,d1,d2;d0=(d1={contents:0},(d2={contents:{$:0}},i.subscribeTo(dY,function(d3){var d4,d5,d6,d8;q.Increment(d1);if(d2.contents.$==1){d2.contents.$0.Dispose();}d4=d1.contents;d5=(d6=i.subscribeTo(d3,function(d7){if(d4===d1.contents){return dZ.OnNext(d7);}else{return null;}}),(d8=function(d9){return{$:1,$0:d9};},d8(d6)));d2.contents=d5;})));return d0;});}},ObservableModule:{Pairwise:function(d_){var d$,ea,eb,ec,ej,ek;d$=(ea=[{$:0},{$:0}],(eb=(ec=$.Tupled(function(ed){var ee,ef;ee=ed[0];ef=ed[1];return function(eg){return[ef,{$:1,$0:eg}];};}),$.Tupled(function(eh){return function(ei){return t.Scan(ec,eh,ei);};})),(eb(ea))(d_)));ej=(ek=$.Tupled(function(el){var em,en;if(el[0].$==1){if(el[1].$==1){em=el[0].$0;en=el[1].$0;return{$:1,$0:[em,en]};}else{return{$:0};}}else{return{$:0};}}),function(eo){return o.Choose(ek,eo);});return ej(d$);},Partition:function(ep,eq){var er,es;return[o.Filter(ep,eq),(er=(es=function(et){return!et;},function(eu){return es(ep(eu));}),o.Filter(er,eq))];},Scan:function(ev,ew,ex){var ey,ez;ey={contents:ew};ez=function(eA){ey.contents=(ev(ey.contents))(eA);return ey.contents;};return o.Map(ez,ex);},Split:function(eB,eC){var eD,eE,eF,eK,eL,eM;eD=(eE=(eF=function(eG){var eH,eI;eH=eB(eG);if(eH.$==0){eI=eH.$0;return{$:1,$0:eI};}else{return{$:0};}},function(eJ){return o.Choose(eF,eJ);}),eE(eC));eK=(eL=(eM=function(eN){var eO,eP;eO=eB(eN);if(eO.$==1){eP=eO.$0;return{$:1,$0:eP};}else{return{$:0};}},function(eQ){return o.Choose(eM,eQ);}),eL(eC));return[eD,eK];}},Observer:{New:function(eR,eS,eT){return{OnNext1:eR,OnError1:eS,OnCompleted1:eT};},Of:function(eU){return{OnNext1:eU,OnError1:function(eV){return q.Raise(eV);},OnCompleted1:function(){return null;}};}}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Pervasives);c=$.Safe(a.List);d=$.Safe(a.Unchecked);e=$.Safe(a.Arrays);f=$.Safe(a.Control);g=$.Safe(f.Disposable);h=$.Safe(f["FSharpEvent`1"]);i=$.Safe(a.Util);j=$.Safe(f.Event);k=$.Safe(j["Event`1"]);l=$.Safe(f.EventModule);m=$.Safe(f.HotStream);n=$.Safe(m["HotStream`1"]);o=$.Safe(f.Observable);p=$.Safe(f.Observer);q=$.Safe(a.Operators);r=$.Safe(o["Observable`1"]);s=$.Safe(c.T);return t=$.Safe(f.ObservableModule);});$.OnLoad(function(){});}());
